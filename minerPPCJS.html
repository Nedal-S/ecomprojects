<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SHA-256 Mining Profit Checker</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
html,body{margin:0;height:100%;overflow:hidden;background:#0c0f14;
          font-family:Arial,Helvetica,sans-serif;color:#fff}
canvas{position:fixed;top:0;left:0;width:100%;height:100%}
#panel{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
       text-align:center;background:rgba(0,0,0,.55);padding:2.3rem 2.9rem;
       border-radius:1rem;backdrop-filter:blur(4px)}
h1{margin:0 0 1rem;font-size:1.9rem}
label{display:block;margin:.55rem 0 .3rem}
input{width:8.3rem;padding:.35rem;border:none;border-radius:.3rem;text-align:center}
button{margin-top:1rem;padding:.45rem 1.3rem;border:none;border-radius:.4rem;
       font-weight:bold;background:#1e90ff;color:#fff;cursor:pointer;transition:.15s}
button.clicked{background:#28a745}
#status{margin-top:1.3rem;font-size:1.4rem;font-weight:bold;min-width:15rem}
small{display:block;margin-top:.7rem;font-size:.75rem;opacity:.65}
</style>
</head>
<body>

<canvas id="bg"></canvas>

<div id="panel">
  <h1>Mining&nbsp;P‚Äâ/‚ÄâL</h1>

  <label>Hashrate (TH/s)</label>
  <input id="hash"  type="number" step="0.01" value="1.10">

  <label>Wattage (W)</label>
  <input id="watts" type="number" step="1"    value="14">

  <label>Electricity&nbsp;($/kWh)</label>
  <input id="cost"  type="number" step="0.001" value="0.15">

  <button id="updateBtn" onclick="update()">Update&nbsp;Now</button>
  <div id="status">Loading ‚Ä¶</div>
  <small>* Data refreshes automatically every&nbsp;10&nbsp;minutes.</small>
</div>

<script>
/* ---------- animated background ---------- */
const cvs=document.getElementById('bg'),ctx=cvs.getContext('2d');
let cssW,cssH,pts=[];const COUNT=110,SPEED=.55,LINK=120;

function resize(){
  cssW=innerWidth;cssH=innerHeight;
  const dpr=devicePixelRatio||1;
  cvs.style.width=cssW+'px'; cvs.style.height=cssH+'px';
  cvs.width =cssW*dpr; cvs.height=cssH*dpr;
  ctx.setTransform(dpr,0,0,dpr,0,0);           // 1 CSS px ‚Üí device px
  initPts();
}
addEventListener('resize',resize); resize();

function initPts(){
  pts=[];for(let i=0;i<COUNT;i++){
    pts.push({x:Math.random()*cssW,y:Math.random()*cssH,
              vx:(Math.random()*2-1)*SPEED,
              vy:(Math.random()*2-1)*SPEED});
  }
}
function frame(){
  ctx.clearRect(0,0,cssW,cssH);
  for(const p of pts){
    p.x+=p.vx; p.y+=p.vy;
    if(p.x<0||p.x>cssW)p.vx*=-1;
    if(p.y<0||p.y>cssH)p.vy*=-1;
    ctx.fillStyle='#66ccff'; ctx.fillRect(p.x,p.y,2,2);
  }
  for(let i=0;i<COUNT;i++)for(let j=i+1;j<COUNT;j++){
    const a=pts[i],b=pts[j],dx=a.x-b.x,dy=a.y-b.y,d=Math.hypot(dx,dy);
    if(d<LINK){
      ctx.strokeStyle=`rgba(102,204,255,${1-d/LINK})`;
      ctx.beginPath();ctx.moveTo(a.x,a.y);ctx.lineTo(b.x,b.y);ctx.stroke();
    }
  }
  requestAnimationFrame(frame);
}
frame();

/* ---------- profitability logic ---------- */
const PROXY ="https://api.allorigins.win/raw?url=";
const mdURL =PROXY+encodeURIComponent("https://www.mining-dutch.nl/api/status?multi=sha256");
const btcURL="https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd";

const hash=document.getElementById('hash'),
      watts=document.getElementById('watts'),
      cost=document.getElementById('cost'),
      status=document.getElementById('status'),
      btn=document.getElementById('updateBtn');

const j=u=>fetch(u).then(r=>r.json());

async function update(){
  btn.classList.add('clicked'); setTimeout(()=>btn.classList.remove('clicked'),200);
  try{
    const TH=+hash.value||0, W=+watts.value||0, k=+cost.value||0;
    const [md,btc]=await Promise.all([j(mdURL),j(btcURL)]);
    const btcPerTh=+md.sha256.estimate_current, price=btc.bitcoin.usd;
    const gross=btcPerTh*TH*price,
          power=(W*24/1e3)*k,
          net=gross-power;
    status.textContent=`${net>=0?'üü¢':'üî¥'} Net ${net.toFixed(4)} USD / day`;
  }catch(e){console.error(e);status.textContent="‚ö†Ô∏è Data fetch error";}
}
update(); setInterval(update,10*60*1000);
</script>
</body>
</html>
